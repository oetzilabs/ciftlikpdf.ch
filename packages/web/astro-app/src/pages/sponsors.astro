---
import MainLayout from "../layouts/MainLayout.astro";
import { Queries } from "../utils/queries";
import { API_URL } from "../consts";
const allSponsors = await Queries.Sponsors.all(API_URL);
---

<MainLayout>
  <div class="flex flex-col gap-4">
    <h1 class="text-3xl font-bold">Sponsors</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      {
        allSponsors.map((sponsor) => (
          <a
            class="flex flex-row gap-2 border border-neutral-300 dark:border-neutral-800 shadow-sm rounded-lg px-4 py-2 bg-white dark:bg-black"
            href={`/sponsor/${sponsor.id}`}
          >
            <div class="font-medium">{sponsor.name}:</div>
            <div>
              {sponsor.donations.length} bagis{sponsor.donations.length > 1 ? "lar" : ""}
            </div>
          </a>
        ))
      }
    </div>
  </div>
</MainLayout>
